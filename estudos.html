<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Sol de Sóter</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <link rel="shortcut icon" href="img/favicon-musica.png" type="image/x-icon">

    <link rel="stylesheet" href="css/estudos.css" />
    <link rel="stylesheet" href="css/dashboard.css" />
    <link rel="stylesheet" href="css/financas.css" />
    <link rel="stylesheet" href="css/style_viagens.css" />
    <link rel="stylesheet" href="css/notificacoes.css" />
    <link rel="stylesheet" href="css/planner.css" />
  </head>
  <body>
    <header>
      <div class="logo-container">
        <a href="index.html" class="logo-link">
          <img src="img/soldesoter_logo.png" alt="Logo Sol de Sóter" />
          <h1>Sol de Sóter</h1>
        </a>
      </div>

      <div class="menu-profile">
        <nav class="navbar">
          <ul class="nav-menu">
            <li class="dropdown">
              <div class="dropdown-header">
                <a href="#">Biblioteca</a>
                <button class="dropdown-toggle">▼</button>
              </div>
              <ul class="dropdown-menu">
                <li><a href="livraria.html">Livraria</a></li>
                <li><a href="cinema.html">Cinema</a></li>
                <li><a href="mangas.html">Mangas</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <div class="dropdown-header">
                <a href="#">Pessoal</a>
                <button class="dropdown-toggle">▼</button>
              </div>
              <ul class="dropdown-menu">
                <li><a href="sonhos.html">Sonhos</a></li>
                <li><a href="viagens.html">Viagens</a></li>
                <li><a href="wishlist.html">Carrinho</a></li>
                <li><a href="financas.html">Finanças</a></li>
                <li><a href="planejamento.html">Planejamento</a></li>
                <li><a href="academia.html">Academia</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <div class="dropdown-header">
                <a href="#">Diario</a>
                <button class="dropdown-toggle">▼</button>
              </div>
              <ul class="dropdown-menu">
                <li><a href="diario.html">Diario</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <div class="dropdown-header">
                <a href="#">Musica</a>
                <button class="dropdown-toggle">▼</button>
              </div>
              <ul class="dropdown-menu">
                <li><a href="musica.html">Musica</a></li>
              </ul>
            </li>
          </ul>
        </nav>

        <div class="notification-center">
          <button id="notification-bell" class="notification-bell">
            <i class="fas fa-bell"></i>
            <span
              id="notification-count"
              class="notification-count"
              style="display: none"
              >0</span
            >
          </button>
          <div id="notification-panel" class="notification-panel">
            <div class="notification-panel-header">
              <h3>Notificações</h3>
            </div>
            <ul id="notification-list" class="notification-list">
              <li class="empty-state">
                <i class="fas fa-inbox"></i>
                <p>Nenhuma notificação nova</p>
              </li>
            </ul>
          </div>
        </div>

        <div class="dropdown profile-dropdown">
          <div class="profile">
            <span>Marcos</span>
            <img src="img/eu-gtp1.1.png" alt="Foto do Usuário" />
          </div>
          <ul class="dropdown-menu profile-menu">
            <li class="saldo-menu-item">
              <div id="saldo-header">
                <span class="saldo-header-label">Saldo Atual</span>
                <div id="saldo-do-dia">R$ 0,00</div>
              </div>
            </li>
            <li>
              <a href="#"><i class="fas fa-cog"></i> Configurações</a>
            </li>
            <li>
              <a href="#"><i class="fas fa-sign-out-alt"></i> Sair</a>
            </li>
          </ul>
        </div>
      </div>
    </header>

    <main>
      <div class="planner-container">
        <section id="stats-container" class="planner-card stats-card">
          <h2><i class="fas fa-chart-line"></i> Seu Progresso</h2>
          <div class="stats-grid">
            <div class="stat-item">
              <span id="stat-total-topics" class="stat-number">0</span>
              <span class="stat-label">Tópicos Totais</span>
            </div>
            <div class="stat-item">
              <span id="stat-today-reviews" class="stat-number">0</span>
              <span class="stat-label">Revisões Hoje</span>
            </div>
            <div class="stat-item">
              <span id="stat-mastered-topics" class="stat-number">0</span>
              <span class="stat-label">Tópicos Mestres</span>
            </div>
            <div class="stat-item">
              <span id="stat-avg-level" class="stat-number">0.0</span>
              <span class="stat-label">Nível Médio</span>
            </div>
          </div>
        </section>

        <section id="form-container" class="planner-card">
          <h2 id="form-title">Adicionar Novo Tópico de Estudo</h2>
          <form id="study-form">
            <input type="hidden" id="topic-id" />

            <div class="form-group">
              <label for="topic-name">Tópico / Nome:</label>
              <input
                type="text"
                id="topic-name"
                required
                placeholder="Ex: 'Closures em JavaScript'"
              />
            </div>

            <div class="form-group">
              <label for="topic-course">Curso / Matéria:</label>
              <input
                type="text"
                id="topic-course"
                placeholder="Ex: 'Desenvolvimento Web'"
              />
            </div>

            <div class="form-group">
              <label for="topic-priority">Prioridade:</label>
              <select id="topic-priority">
                <option value="baixa">Baixa</option>
                <option value="media" selected>Média</option>
                <option value="alta">Alta</option>
              </select>
            </div>

            <div class="form-group form-group-full">
              <label for="topic-desc"
                >Descrição / Flashcard (Resposta):</label
              >
              <textarea
                id="topic-desc"
                rows="4"
                placeholder="Descreva o tópico ou coloque a 'resposta' do flashcard aqui."
              ></textarea>
            </div>

            <button type="submit" id="submit-btn" class="btn-submit">
              Adicionar e Agendar Revisão
            </button>
            <button
              type="button"
              id="cancel-edit-btn"
              class="btn-cancel"
              style="display: none"
            >
              Cancelar Edição
            </button>
          </form>
        </section>

        <section id="reviews-container" class="planner-card">
          <h2>Calendário de Revisões</h2>

          <div class="form-group form-group-full" id="search-container">
            <label for="search-box">
              <i class="fas fa-search"></i> Filtrar Tópicos:
            </label>
            <input
              type="text"
              id="search-box"
              placeholder="Digite o nome do tópico ou curso..."
            />
          </div>

          <div class="review-section">
            <div class="review-section-header">
                <h3><i class="fas fa-calendar-day"></i> Para Revisar Hoje</h3>
                <button id="start-session-btn" class="btn-start-session" style="display: none;">
                    <i class="fas fa-play"></i> Iniciar Sessão
                </button>
            </div>
            <ul id="today-reviews-list" class="review-list">
              <li class="empty-list">Nenhuma revisão para hoje.</li>
            </ul>
          </div>

          <div class="review-section">
            <h3><i class="fas fa-calendar-alt"></i> Próximas Revisões</h3>
            <ul id="upcoming-reviews-list" class="review-list">
              <li class="empty-list">Nenhum tópico agendado.</li>
            </ul>
          </div>
        </section>
      </div>

      <div id="study-modal" class="modal-overlay" style="display: none">
        <div class="modal-content">
          <button id="modal-close-btn" class="modal-close">&times;</button>
          <h3>Modo de Revisão (Flashcard)</h3>

          <div id="flashcard" class="flashcard">
            <div class="flashcard-inner">
              <div class="flashcard-front">
                <h4 id="modal-topic-name">Nome do Tópico</h4>
                <small>Clique no card para ver a resposta</small>
              </div>
              <div class="flashcard-back">
                <h5 id="modal-topic-course">Curso/Matéria</h5>
                <p id="modal-topic-desc">Descrição/Resposta do tópico.</p>
              </div>
            </div>
          </div>

          <div class="modal-actions">
            <p>Como foi sua resposta?</p>
            <button id="review-fail" class="btn-action btn-fail">
              <i class="fas fa-times"></i> Errei
            </button>
            <button id="review-hard" class="btn-action btn-warn">
              <i class="fas fa-brain"></i> Difícil
            </button>
            <button id="review-good" class="btn-action btn-success">
              <i class="fas fa-check"></i> Bom
            </button>
            <button id="review-easy" class="btn-action btn-easy">
              <i class="fas fa-star"></i> Fácil
            </button>
          </div>

          <button id="exit-session-btn" class="btn-exit" style="display: none;">
            <i class="fas fa-sign-out-alt"></i> Sair da Sessão
          </button>
        </div>
      </div>
    </main>

    <div id="toast-notification" class="toast"></div>

    <footer>
      <p>© 2025 Sol de Sóter. Todos os direitos reservados.</p>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="js/saldo-global.js"></script>
    <script src="js/estudos.js"></script> <script src="js/notificacoes.js"></script>
    <script src="js/unified-data-manager.js"></script>
    <script src="js/planner.js"></script> </body>
</html>